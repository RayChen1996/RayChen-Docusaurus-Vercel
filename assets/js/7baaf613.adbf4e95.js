"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6239],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>g});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),p=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},m=function(e){var n=p(e.components);return r.createElement(i.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=p(t),g=a,d=c["".concat(i,".").concat(g)]||c[g]||u[g]||l;return t?r.createElement(d,o(o({ref:n},m),{},{components:t})):r.createElement(d,o({ref:n},m))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=c;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<l;p++)o[p]=t[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},2329:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var r=t(7462),a=(t(7294),t(3905));const l={title:"Apollo Fragment"},o=void 0,s={unversionedId:"GraphQL/apollo",id:"GraphQL/apollo",title:"Apollo Fragment",description:"- FragmentName \u662f\u7247\u6bb5\u7684\u540d\u7a31\u3002",source:"@site/docs/GraphQL/apollo.md",sourceDirName:"GraphQL",slug:"/GraphQL/apollo",permalink:"/RayChen-Docusaurus-Vercel/docs/GraphQL/apollo",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/GraphQL/apollo.md",tags:[],version:"current",frontMatter:{title:"Apollo Fragment"},sidebar:"tutorialSidebar",previous:{title:"React \u5c08\u6848\u5f15\u7528 Apollo Client",permalink:"/RayChen-Docusaurus-Vercel/docs/GraphQL/ReactJS\u5c08\u6848\u5f15\u7528"},next:{title:"JavaScript \u539f\u578b\u65b9\u6cd5",permalink:"/RayChen-Docusaurus-Vercel/docs/HTML&CSS&JS/JavaScript/Array Method"}},i={},p=[{value:"1. \u4ec0\u9ebc\u662f Fragment\uff1f",id:"1-\u4ec0\u9ebc\u662f-fragment",level:2},{value:"\u512a\u9ede\uff1a",id:"\u512a\u9ede",level:3},{value:"2. Fragment \u7684\u57fa\u672c\u8a9e\u6cd5",id:"2-fragment-\u7684\u57fa\u672c\u8a9e\u6cd5",level:2}],m={toc:p};function u(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"# Apollo \u7684 Fragment \u4f7f\u7528\u4ecb\u7d39\n\n\u5728 GraphQL \u4e2d\uff0c**Fragment** \u662f\u4e00\u7a2e\u91cd\u7528\u67e5\u8a62\u6216\u8b8a\u66f4\u4e2d\u7684\u6b04\u4f4d\u7684\u65b9\u5f0f\u3002\u5b83\u5141\u8a31\u6211\u5011\u5c07\u8907\u96dc\u67e5\u8a62\u4e2d\u7684\u6b04\u4f4d\u96c6\u5408\u62c6\u5206\u6210\u8f03\u5c0f\u7684\u7247\u6bb5\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u67e5\u8a62\u4e2d\u91cd\u8907\u4f7f\u7528\u9019\u4e9b\u7247\u6bb5\u3002\u9019\u6a23\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u78bc\u7684\u53ef\u7dad\u8b77\u6027\uff0c\u6e1b\u5c11\u91cd\u8907\uff0c\u4e26\u78ba\u4fdd\u8cc7\u6599\u7684\u4e00\u81f4\u6027\u3002\n\n## 1. \u4ec0\u9ebc\u662f Fragment\uff1f\n\nFragment \u662f GraphQL \u4e2d\u7684\u8a9e\u6cd5\uff0c\u5141\u8a31\u6211\u5011\u5b9a\u7fa9\u4e00\u7d44\u6b04\u4f4d\u7684\u9078\u64c7\uff0c\u7136\u5f8c\u5728\u591a\u500b\u67e5\u8a62\u4e2d\u91cd\u8907\u4f7f\u7528\u5b83\u3002\n\n### \u512a\u9ede\uff1a\n- **\u4ee3\u78bc\u91cd\u7528**\uff1a\u907f\u514d\u91cd\u8907\u76f8\u540c\u7684\u6b04\u4f4d\u9078\u64c7\u3002\n- **\u589e\u5f37\u53ef\u7dad\u8b77\u6027**\uff1a\u66f4\u6613\u65bc\u7ba1\u7406\u548c\u4fee\u6539\u67e5\u8a62\uff0c\u7576\u9700\u8981\u66f4\u65b0\u6b04\u4f4d\u6642\uff0c\u53ea\u9700\u66f4\u6539 Fragment\u3002\n\n## 2. Fragment \u7684\u57fa\u672c\u8a9e\u6cd5\n\n```graphql\nfragment FragmentName on TypeName {\n  field1\n  field2\n  field3\n}\n\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"FragmentName \u662f\u7247\u6bb5\u7684\u540d\u7a31\u3002"),(0,a.kt)("li",{parentName:"ul"},"TypeName \u662f\u9019\u500b\u7247\u6bb5\u61c9\u7528\u65bc\u7684\u985e\u578b\u3002"),(0,a.kt)("li",{parentName:"ul"},"field1, field2, field3 \u662f\u9019\u500b\u7247\u6bb5\u6703\u8fd4\u56de\u7684\u6b04\u4f4d\u3002")),(0,a.kt)("p",null,"\u7bc4\u4f8b\uff1a\n\u5047\u8a2d\u6211\u5011\u6709\u4e00\u500b GraphQL \u67e5\u8a62\uff0c\u67e5\u8a62\u7528\u6236\u548c\u4ed6\u5011\u7684\u5e16\u5b50\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-gql"},"query GetUserAndPosts {\n  user {\n    id\n    name\n    ...UserDetails\n  }\n  posts {\n    id\n    title\n    ...PostDetails\n  }\n}\n\nfragment UserDetails on User {\n  email\n  avatar\n}\n\nfragment PostDetails on Post {\n  content\n  createdAt\n}\n")),(0,a.kt)("p",null,"\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0cUserDetails \u548c PostDetails \u90fd\u662f Fragment\uff0c\u7528\u4f86\u91cd\u8907\u4f7f\u7528\u5c0d\u61c9\u985e\u578b\u7684\u6b04\u4f4d\u3002"),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"\u4f7f\u7528 Apollo Client \u7684 Fragment\n\u5728 Apollo Client \u4e2d\uff0c\u4f7f\u7528 Fragment \u7684\u65b9\u5f0f\u8207\u539f\u751f GraphQL \u7684\u4f7f\u7528\u65b9\u5f0f\u76f8\u540c\u3002\u4f60\u53ef\u4ee5\u5c07 Fragment \u5b9a\u7fa9\u5728\u67e5\u8a62\u5167\u90e8\uff0c\u7136\u5f8c\u5c07 Fragment \u50b3\u905e\u7d66 Apollo \u67e5\u8a62\u4f86\u57f7\u884c\u3002")),(0,a.kt)("p",null,"\u7bc4\u4f8b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { gql, useQuery } from "@apollo/client";\n\nconst GET_USER_AND_POSTS = gql`\n  query GetUserAndPosts {\n    user {\n      id\n      name\n      ...UserDetails\n    }\n    posts {\n      id\n      title\n      ...PostDetails\n    }\n  }\n\n  fragment UserDetails on User {\n    email\n    avatar\n  }\n\n  fragment PostDetails on Post {\n    content\n    createdAt\n  }\n`;\n\nconst MyComponent = () => {\n  const { loading, error, data } = useQuery(GET_USER_AND_POSTS);\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error: {error.message}</p>;\n\n  return (\n    <div>\n      <h1>{data.user.name}</h1>\n      <h2>{data.user.email}</h2>\n      {data.posts.map((post) => (\n        <div key={post.id}>\n          <h3>{post.title}</h3>\n          <p>{post.content}</p>\n        </div>\n      ))}\n    </div>\n  );\n};\n')),(0,a.kt)("p",null,"\u5728\u9019\u88e1\uff0c\u6211\u5011\u4f7f\u7528 useQuery Hook \u767c\u9001 GET_USER_AND_POSTS \u67e5\u8a62\uff0c\u4e26\u4e14\u5c07 Fragment UserDetails \u548c PostDetails \u5305\u542b\u5728\u67e5\u8a62\u4e2d\uff0c\u9019\u6a23 Apollo Client \u5c31\u6703\u81ea\u52d5\u8655\u7406 Fragment \u7684\u5408\u4f75\u3002"),(0,a.kt)("p",null,"\u4ee5\u4e0b\u662f\u4ecb\u7d39 Apollo \u7684 Fragment \u4f7f\u7528\u7684\u7b46\u8a18\uff0c\u4f7f\u7528 Markdown \u683c\u5f0f\uff1a"),(0,a.kt)("p",null,"md\n\u8907\u88fd\u7a0b\u5f0f\u78bc"),(0,a.kt)("h1",{id:"apollo-\u7684-fragment-\u4f7f\u7528\u4ecb\u7d39"},"Apollo \u7684 Fragment \u4f7f\u7528\u4ecb\u7d39"),(0,a.kt)("p",null,"\u5728 GraphQL \u4e2d\uff0c",(0,a.kt)("strong",{parentName:"p"},"Fragment")," \u662f\u4e00\u7a2e\u91cd\u7528\u67e5\u8a62\u6216\u8b8a\u66f4\u4e2d\u7684\u6b04\u4f4d\u7684\u65b9\u5f0f\u3002\u5b83\u5141\u8a31\u6211\u5011\u5c07\u8907\u96dc\u67e5\u8a62\u4e2d\u7684\u6b04\u4f4d\u96c6\u5408\u62c6\u5206\u6210\u8f03\u5c0f\u7684\u7247\u6bb5\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u67e5\u8a62\u4e2d\u91cd\u8907\u4f7f\u7528\u9019\u4e9b\u7247\u6bb5\u3002\u9019\u6a23\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u78bc\u7684\u53ef\u7dad\u8b77\u6027\uff0c\u6e1b\u5c11\u91cd\u8907\uff0c\u4e26\u78ba\u4fdd\u8cc7\u6599\u7684\u4e00\u81f4\u6027\u3002"),(0,a.kt)("h2",{id:"1-\u4ec0\u9ebc\u662f-fragment"},"1. \u4ec0\u9ebc\u662f Fragment\uff1f"),(0,a.kt)("p",null,"Fragment \u662f GraphQL \u4e2d\u7684\u8a9e\u6cd5\uff0c\u5141\u8a31\u6211\u5011\u5b9a\u7fa9\u4e00\u7d44\u6b04\u4f4d\u7684\u9078\u64c7\uff0c\u7136\u5f8c\u5728\u591a\u500b\u67e5\u8a62\u4e2d\u91cd\u8907\u4f7f\u7528\u5b83\u3002"),(0,a.kt)("h3",{id:"\u512a\u9ede"},"\u512a\u9ede\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"\u4ee3\u78bc\u91cd\u7528"),"\uff1a\u907f\u514d\u91cd\u8907\u76f8\u540c\u7684\u6b04\u4f4d\u9078\u64c7\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"\u589e\u5f37\u53ef\u7dad\u8b77\u6027"),"\uff1a\u66f4\u6613\u65bc\u7ba1\u7406\u548c\u4fee\u6539\u67e5\u8a62\uff0c\u7576\u9700\u8981\u66f4\u65b0\u6b04\u4f4d\u6642\uff0c\u53ea\u9700\u66f4\u6539 Fragment\u3002")),(0,a.kt)("h2",{id:"2-fragment-\u7684\u57fa\u672c\u8a9e\u6cd5"},"2. Fragment \u7684\u57fa\u672c\u8a9e\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"fragment FragmentName on TypeName {\n  field1\n  field2\n  field3\n}\nFragmentName \u662f\u7247\u6bb5\u7684\u540d\u7a31\u3002\nTypeName \u662f\u9019\u500b\u7247\u6bb5\u61c9\u7528\u65bc\u7684\u985e\u578b\u3002\nfield1, field2, field3 \u662f\u9019\u500b\u7247\u6bb5\u6703\u8fd4\u56de\u7684\u6b04\u4f4d\u3002\n\u7bc4\u4f8b\uff1a\n\u5047\u8a2d\u6211\u5011\u6709\u4e00\u500b GraphQL \u67e5\u8a62\uff0c\u67e5\u8a62\u7528\u6236\u548c\u4ed6\u5011\u7684\u5e16\u5b50\uff1a\n\ngraphql\n\nquery GetUserAndPosts {\n  user {\n    id\n    name\n    ...UserDetails\n  }\n  posts {\n    id\n    title\n    ...PostDetails\n  }\n}\n\nfragment UserDetails on User {\n  email\n  avatar\n}\n\nfragment PostDetails on Post {\n  content\n  createdAt\n}\n\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0cUserDetails \u548c PostDetails \u90fd\u662f Fragment\uff0c\u7528\u4f86\u91cd\u8907\u4f7f\u7528\u5c0d\u61c9\u985e\u578b\u7684\u6b04\u4f4d\u3002\n\n3. \u4f7f\u7528 Apollo Client \u7684 Fragment\n\u5728 Apollo Client \u4e2d\uff0c\u4f7f\u7528 Fragment \u7684\u65b9\u5f0f\u8207\u539f\u751f GraphQL \u7684\u4f7f\u7528\u65b9\u5f0f\u76f8\u540c\u3002\u4f60\u53ef\u4ee5\u5c07 Fragment \u5b9a\u7fa9\u5728\u67e5\u8a62\u5167\u90e8\uff0c\u7136\u5f8c\u5c07 Fragment \u50b3\u905e\u7d66 Apollo \u67e5\u8a62\u4f86\u57f7\u884c\u3002\n\n\u7bc4\u4f8b\uff1a\njavascript\n\u8907\u88fd\u7a0b\u5f0f\u78bc\nimport { gql, useQuery } from '@apollo/client';\n\nconst GET_USER_AND_POSTS = gql`\n  query GetUserAndPosts {\n    user {\n      id\n      name\n      ...UserDetails\n    }\n    posts {\n      id\n      title\n      ...PostDetails\n    }\n  }\n\n  fragment UserDetails on User {\n    email\n    avatar\n  }\n\n  fragment PostDetails on Post {\n    content\n    createdAt\n  }\n`;\n\nconst MyComponent = () => {\n  const { loading, error, data } = useQuery(GET_USER_AND_POSTS);\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error: {error.message}</p>;\n\n  return (\n    <div>\n      <h1>{data.user.name}</h1>\n      <h2>{data.user.email}</h2>\n      {data.posts.map(post => (\n        <div key={post.id}>\n          <h3>{post.title}</h3>\n          <p>{post.content}</p>\n        </div>\n      ))}\n    </div>\n  );\n};\n\u5728\u9019\u88e1\uff0c\u6211\u5011\u4f7f\u7528 useQuery Hook \u767c\u9001 GET_USER_AND_POSTS \u67e5\u8a62\uff0c\u4e26\u4e14\u5c07 Fragment UserDetails \u548c PostDetails \u5305\u542b\u5728\u67e5\u8a62\u4e2d\uff0c\u9019\u6a23 Apollo Client \u5c31\u6703\u81ea\u52d5\u8655\u7406 Fragment \u7684\u5408\u4f75\u3002\n\n4. Fragment \u7684\u5d4c\u5957\u4f7f\u7528\nFragment \u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u9019\u6a23\u4f60\u53ef\u4ee5\u5c07\u66f4\u5c0f\u7684\u7247\u6bb5\u7d44\u5408\u6210\u66f4\u5927\u7684\u7247\u6bb5\uff0c\u5be6\u73fe\u66f4\u9748\u6d3b\u7684\u67e5\u8a62\u3002\n\n\u7bc4\u4f8b\uff1a\n\n```gql\n\nfragment UserDetails on User {\n  id\n  name\n  ...UserContact\n}\n\nfragment UserContact on User {\n  email\n  phone\n}\n\n\n")),(0,a.kt)("p",null,"\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0cUserDetails Fragment \u5305\u542b\u4e86 UserContact Fragment\uff0c\u9019\u6a23\u4f60\u53ef\u4ee5\u5c07\u591a\u500b\u5c64\u6b21\u7684\u6b04\u4f4d\u9032\u884c\u7d44\u5408\u548c\u91cd\u7528\u3002"),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u4f7f\u7528 Fragment \u7684\u6ce8\u610f\u4e8b\u9805"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Fragment \u4e0d\u80fd\u81ea\u5b9a\u7fa9\u8b8a\u91cf\uff1a\u5728 Fragment \u4e2d\u7121\u6cd5\u4f7f\u7528\u67e5\u8a62\u8b8a\u91cf\uff0c\u6240\u6709\u7684\u6b04\u4f4d\u5fc5\u9808\u662f\u975c\u614b\u7684\u3002"),(0,a.kt)("li",{parentName:"ul"},"Fragment \u540d\u7a31\u552f\u4e00\u6027\uff1a\u5728\u540c\u4e00\u67e5\u8a62\u4e2d\uff0cFragment \u540d\u7a31\u5fc5\u9808\u552f\u4e00\uff0c\u5426\u5247\u6703\u767c\u751f\u885d\u7a81\u3002")))))}u.isMDXComponent=!0}}]);